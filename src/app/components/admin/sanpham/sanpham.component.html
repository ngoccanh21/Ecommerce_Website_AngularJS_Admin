<app-header></app-header>
<app-menu-left></app-menu-left>
<!-- PAGE CONTAINER-->
<div class="page-container">
    <!-- HEADER DESKTOP-->
    <!-- <header class="header-desktop">
        <div class="section__content section__content--p30">
            <div class="container-fluid">
                <div class="header-wrap">
                    <form class="form-header" action="" method="POST">
                        <input class="au-input au-input--xl" type="text" name="search" placeholder="Search for datas &amp; reports..." />
                        <button class="au-btn--submit" type="submit">
                            <i class="zmdi zmdi-search"></i>
                        </button>
                    </form>
                    <div class="header-button">
                        <div class="noti-wrap">
                            <div class="noti__item js-item-menu">
                                <i class="zmdi zmdi-comment-more"></i>
                                <span class="quantity">1</span>
                                <div class="mess-dropdown js-dropdown">
                                    <div class="mess__title">
                                        <p>You have 2 news message</p>
                                    </div>
                                    <div class="mess__item">
                                        <div class="image img-cir img-40">
                                            <img src="images/icon/avatar-06.jpg" alt="Michelle Moreno" />
                                        </div>
                                        <div class="content">
                                            <h6>Michelle Moreno</h6>
                                            <p>Have sent a photo</p>
                                            <span class="time">3 min ago</span>
                                        </div>
                                    </div>
                                    <div class="mess__item">
                                        <div class="image img-cir img-40">
                                            <img src="images/icon/avatar-04.jpg" alt="Diane Myers" />
                                        </div>
                                        <div class="content">
                                            <h6>Diane Myers</h6>
                                            <p>You are now connected on message</p>
                                            <span class="time">Yesterday</span>
                                        </div>
                                    </div>
                                    <div class="mess__footer">
                                        <a href="#">View all messages</a>
                                    </div>
                                </div>
                            </div>
                            <div class="noti__item js-item-menu">
                                <i class="zmdi zmdi-email"></i>
                                <span class="quantity">1</span>
                                <div class="email-dropdown js-dropdown">
                                    <div class="email__title">
                                        <p>You have 3 New Emails</p>
                                    </div>
                                    <div class="email__item">
                                        <div class="image img-cir img-40">
                                            <img src="images/icon/avatar-06.jpg" alt="Cynthia Harvey" />
                                        </div>
                                        <div class="content">
                                            <p>Meeting about new dashboard...</p>
                                            <span>Cynthia Harvey, 3 min ago</span>
                                        </div>
                                    </div>
                                    <div class="email__item">
                                        <div class="image img-cir img-40">
                                            <img src="images/icon/avatar-05.jpg" alt="Cynthia Harvey" />
                                        </div>
                                        <div class="content">
                                            <p>Meeting about new dashboard...</p>
                                            <span>Cynthia Harvey, Yesterday</span>
                                        </div>
                                    </div>
                                    <div class="email__item">
                                        <div class="image img-cir img-40">
                                            <img src="images/icon/avatar-04.jpg" alt="Cynthia Harvey" />
                                        </div>
                                        <div class="content">
                                            <p>Meeting about new dashboard...</p>
                                            <span>Cynthia Harvey, April 12,,2018</span>
                                        </div>
                                    </div>
                                    <div class="email__footer">
                                        <a href="#">See all emails</a>
                                    </div>
                                </div>
                            </div>
                            <div class="noti__item js-item-menu">
                                <i class="zmdi zmdi-notifications"></i>
                                <span class="quantity">3</span>
                                <div class="notifi-dropdown js-dropdown">
                                    <div class="notifi__title">
                                        <p>You have 3 Notifications</p>
                                    </div>
                                    <div class="notifi__item">
                                        <div class="bg-c1 img-cir img-40">
                                            <i class="zmdi zmdi-email-open"></i>
                                        </div>
                                        <div class="content">
                                            <p>You got a email notification</p>
                                            <span class="date">April 12, 2018 06:50</span>
                                        </div>
                                    </div>
                                    <div class="notifi__item">
                                        <div class="bg-c2 img-cir img-40">
                                            <i class="zmdi zmdi-account-box"></i>
                                        </div>
                                        <div class="content">
                                            <p>Your account has been blocked</p>
                                            <span class="date">April 12, 2018 06:50</span>
                                        </div>
                                    </div>
                                    <div class="notifi__item">
                                        <div class="bg-c3 img-cir img-40">
                                            <i class="zmdi zmdi-file-text"></i>
                                        </div>
                                        <div class="content">
                                            <p>You got a new file</p>
                                            <span class="date">April 12, 2018 06:50</span>
                                        </div>
                                    </div>
                                    <div class="notifi__footer">
                                        <a href="#">All notifications</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="account-wrap">
                            <div class="account-item clearfix js-item-menu">
                                <div class="image">
                                    <img src="images/icon/avatar-01.jpg" alt="John Doe" />
                                </div>
                                <div class="content">
                                    <a class="js-acc-btn" href="#">john doe</a>
                                </div>
                                <div class="account-dropdown js-dropdown">
                                    <div class="info clearfix">
                                        <div class="image">
                                            <a href="#">
                                                <img src="images/icon/avatar-01.jpg" alt="John Doe" />
                                            </a>
                                        </div>
                                        <div class="content">
                                            <h5 class="name">
                                                <a href="#">john doe</a>
                                            </h5>
                                            <span class="email">johndoe@example.com</span>
                                        </div>
                                    </div>
                                    <div class="account-dropdown__body">
                                        <div class="account-dropdown__item">
                                            <a href="#">
                                                <i class="zmdi zmdi-account"></i>Account</a>
                                        </div>
                                        <div class="account-dropdown__item">
                                            <a href="#">
                                                <i class="zmdi zmdi-settings"></i>Setting</a>
                                        </div>
                                        <div class="account-dropdown__item">
                                            <a href="#">
                                                <i class="zmdi zmdi-money-box"></i>Billing</a>
                                        </div>
                                    </div>
                                    <div class="account-dropdown__footer">
                                        <a href="#">
                                            <i class="zmdi zmdi-power"></i>Logout</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header> -->
    <!-- END HEADER DESKTOP-->

    <!-- MAIN CONTENT-->
    <div class="main-content">
        <div class="section__content section__content--p30">
            <div class="container-fluid">
                <h1 style="text-transform: uppercase">Quản lý giày</h1>
                <div>
                    <button style="text-transform: capitalize; font-size: 20px; color: rgb(237, 21, 21);" type="button"
                        (click)="openForm()" data-bs-toggle="modal" data-bs-target="#exampleModal">thêm mới</button>
                    <input class="form-control mr-sm-2" type="text" placeholder="Nhập thông tin cần tìm kiếm"
                        style="width: 700px;margin: 10px 0px 10px 100px;border-radius: 20px;display: inline-block;"
                        [(ngModel)]="userFilter.tenSP" aria-label="Search">
                </div>
                <div class="row m-t-30">
                    <div class="col-md-12">
                        <!-- DATA TABLE-->
                        <div class="table-responsive m-b-40">
                            <table class="table table-borderless table-data3">
                                <thead>
                                    <tr>
                                        <th>STT</th>
                                        <th>Tên giày</th>
                                        <th>Ảnh</th>
                                        <th>Giá Bán</th>
                                        <th>Số lượng</th>
                                        <th>Tình trạng</th>
                                        <th>Mô tả</th>
                                        <th colspan="2">Thao tác</th>
                                    </tr>
                                </thead>
                                <tbody *ngFor="let item of sanphams|filterBy:userFilter|paginate
                                : {itemsPerPage: 5,currentPage: page,totalItems: total}; let i = index">
                                    <tr>
                                        <td>{{ (page - 1) * 5 + i + 1 }}</td>
                                        <td>{{item['tenSP']}}</td>
                                        <td><img src="http://localhost:18058/images/{{ item.anh }}"
                                                style="height: 80px; width: 80px;" alt=""></td>
                                        <td>{{item.giaBan | number}}</td>
                                        <td>{{item.soLuong}}</td>
                                        <td>{{item.tinhTrang}}</td>
                                        <td>{{item.moTa}}</td>
                                        <td><button type="button" class="btn btn-info fa fa-pencil"
                                                (click)="onEdit(item)" data-bs-toggle="modal"
                                                data-bs-target="#exampleModal">&nbsp;</button></td>
                                        <td><button class="btn btn-danger fa fa-trash"
                                                (click)="deletesanpham(item.id)">&nbsp;</button></td>
                                    </tr>
                                </tbody>
                            </table>
                            <pagination-controls previousLabel="Prev" nextLabel="Next" (pageChange)="page = $event">
                            </pagination-controls>
                        </div>
                        <!-- END DATA TABLE-->
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="copyright">
                            <p>Bản quyền thuộc về <a href="">MINOSS.com</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- thêm, sửa -->
    <!-- <div class="formThemSua" style="width: 600px;background-color: rgb(208, 143, 143);margin-left: 300px;" *ngIf="showForm">
        <h5 class="modal-title">{{formHeader}}</h5>
        <div class="modal-body">
            <div class="container-fluid">
                <div class="form-group">
                    <label for="">mã loại</label>
                    <input type="text" class="form-control" *ngModel="maLoai" name="maLoai">
                </div>
                <div class="form-group">
                    <label for="">Tên sản phẩm</label>
                    <input type="text" class="form-control" *ngModel="tenSP" name="tenSP">
                </div>
                <div class="form-group">
                    <label for="">Giá</label>
                    <input type="text" class="form-control" *ngModel="giaBan" name="giaBan">
                </div>
                <div class="form-group">
                    <label for="">Giá sale</label>
                    <input type="text" class="form-control" *ngModel="sale" name="sale">

                </div>
                <div class="form-group">
                    <label for="">Số lượng sản phẩm</label>
                    <input type="text" class="form-control" *ngModel="soLuong" name="soLuong">

                </div>
                <div class="form-group">
                    <label for="">Ảnh sản phẩm</label>
                    <input type="text" class="form-control" *ngModel="tenSP" name="tenSP">

                </div>
                <div class="form-group">
                    <label for="">Tình trạng</label>
                    <input type="text" class="form-control" *ngModel="tinhTrang" name="tinhTrang">

                </div>
                <div class="form-group">
                    <label for="">Ảnh</label>
                    <input type="text" class="form-control" *ngModel="anh" name="anh">      
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="closeForm()">Đóng</button>
            <button type="button" class="btn btn-primary">Lưu</button>
        </div>
    </div> -->

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">New message</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form [formGroup]="formValue">
                        <div class="mb-3">
                            <label class="form-label">Hình Ảnh </label> <br />
                            <img [src]="PhotoFilePath" height="140px;" width="150px;" style="padding-right: 10px" />
                            <input type="file" (change)="uploadPhoto($event)" class="mt-2" />
                        </div>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">Tên giày</label>
                            <input type="text" class="form-control" id="recipient-name" formControlName="tenSP">
                        </div>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">Mã loại giày</label>
                            <select class="form-control" tabindex="-98" formControlName="maLoai" [(ngModel)]="maLoai">
                                <option *ngFor="let item of lisds" value="{{item.id}}">
                                    {{item.tenLoai}}
                                </option>
                            </select>
                            <!-- <select name="" id="recipient-name" formControlName="id" [(ngModel)]="loaisanphams.id">
                                <option *ngFor="let lsp of loaisanphams" value="{{lsp.id}}">{{lsp.tenLoai}}</option>
                            </select> -->
                            <!-- <input type="text" class="form-control" id="recipient-name" formControlName="maLoai"> -->
                        </div>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">Số lượng</label>
                            <input type="text" class="form-control" id="recipient-name" formControlName="soLuong">
                        </div>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">Giá bán</label>
                            <input type="text" class="form-control" id="recipient-name" formControlName="giaBan">
                        </div>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">Giá sale</label>
                            <input type="text" class="form-control" id="recipient-name" formControlName="sale">
                        </div>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">Tình trạng</label>
                            <input type="text" class="form-control" id="recipient-name" formControlName="tinhTrang">
                        </div>
                        <div class="mb-3">
                            <label for="recipient-name" class="col-form-label">Mô tả</label>
                            <input type="text" class="form-control" id="recipient-name" formControlName="moTa">
                        </div>


                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="cancel" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" *ngIf="showAdd" (click)="addsanpham()">Add</button>
                    <button type="button" class="btn btn-primary" *ngIf="showUpdate"
                        (click)="updatesanpham()">update</button>
                </div>
            </div>
        </div>
    </div>
</div>